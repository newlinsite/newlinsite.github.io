<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="door_style.css">
    <title>Door</title>
</head>

<body>
    <!-- 上傳CMS前圖片前面加://assets.aten.com/webpage/shared/campaign/global/Event/Computex/2023/Animation/ -->
    <div class="doormain_container">
        <div class="door_container">
            <img class="d_man" src="d_pep01.png" alt="">
            <div class="an_box p0" style="animation-delay: 2.5s;animation-duration: 32s;">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-1_AI-Voice"></a>
                    <div class="door_name_out">AI Voice</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name">AI Voice</div>
                    </div>
                    <div class="face front" style=" background-image: url('d01.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
            <div class="an_box p1">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-2_Meeting-Room"></a>
                    <div class="door_name_out">Meeting Rooms</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name">Meeting<br>Rooms</div>
                    </div>
                    <div class="face front" style=" background-image: url('d02.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
            <div class=" an_box p2">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-3_Desktop-Workstation"></a>
                    <div class="door_name_out">Workstations</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name">Workstations</div>
                    </div>
                    <div class="face front" style=" background-image: url('d03.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
            <div class="an_box p3">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-4_Flex-Working"></a>
                    <div class="door_name_out">Game Streaming</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name">Game<br>Streaming</div>
                    </div>
                    <div class="face front" style=" background-image: url('d04.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
            <div class="an_box p4">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-5_Control-Room"></a>
                    <div class="door_name_out">Control Rooms</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name">Control<br>Rooms</div>
                    </div>
                    <div class="face front" style=" background-image: url('d05.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
            <div class="an_box p5">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-6_Data-Center_Server-Room"></a>
                    <div class="door_name_out">Data Centers</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name">Data<br>Centers</div>
                    </div>
                    <div class="face front" style=" background-image: url('d06.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
            <div class="an_box p6">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-7_Smart-Manufacturing"></a>
                    <div class="door_name_out" style="font-size: 14px;">Smart<br>Manufacturing</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name" style="font-size: 14px;">Smart<br>Manufacturing</div>
                    </div>
                    <div class="face front" style=" background-image: url('d07.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
            <div class="an_box p7">
                <div class="door">
                    <a class="face door_link" href="#"  target="_blank" data-toggle="modal" data-target="#LightBox-8_ATC"></a>
                    <div class="door_name_out">Air Traffic<br> Control</div>
                    <div class="face opener_body">
                        <div class="face opener"></div>
                        <div class="door_name">Air Traffic<br> Control</div>
                    </div>
                    <div class="face front" style=" background-image: url('d08.png')"></div>
                    <div class="door_light"></div>
                </div>
            </div>
        </div>
        <div class="door_btns">
            <div class="door_arr last"><img src="left.svg" alt=""></div>
            <div class="door_arr next"><img src="right.svg" alt=""></div>
            <!-- google icon -->
            <!-- <div class="door_arr last"><span>chevron_left</span></div>
            <div class="door_arr next"><span>chevron_right</span></div> -->
            <div>
                <div class="door_btn">
                    <div class="btn_st active">
                        <div class="btn_bg" style="background-image: url('btn01.png')"></div>
                        <span>AI Voice</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="door_btn">
                    <div class="btn_st">
                        <div class="btn_bg" style="background-image: url('btn02.png')"></div>
                        <span>Meeting Rooms</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="door_btn">
                    <div class="btn_st">
                        <div class="btn_bg" style="background-image: url('btn03.png')"></div>
                        <span>Workstations</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="door_btn">
                    <div class="btn_st">
                        <div class="btn_bg" style="background-image: url('btn04.png')"></div>
                        <span>Game Streaming</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="door_btn">
                    <div class="btn_st">
                        <div class="btn_bg" style="background-image: url('btn05.png')"></div>
                        <span>Control Rooms</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="door_btn">
                    <div class="btn_st">
                        <div class="btn_bg" style="background-image: url('btn06.png')"></div>
                        <span>Data Centers</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="door_btn">
                    <div class="btn_st">
                        <div class="btn_bg" style="background-image: url('btn07.png')"></div>
                        <span>Smart<br>Manufacturing</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="door_btn">
                    <div class="btn_st">
                        <div class="btn_bg" style="background-image: url('btn08.png')"></div>
                        <span>Air Traffic<br>Control</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>




<script>


    /******************************
    ******************************
    ******************************
    

    
    
            Door start
    
    
    
            
    ******************************
    ******************************
    *******************************/


    // Function
    var $ = function (name) {
        return document.getElementById(name)
    }
    var $css = function (name) {
        return document.getElementsByClassName(name)
    }
    var $tag = function (name) {
        return document.getElementsByTagName(name)
    }



    var an_boxs = $css("an_box")
    var doorBtn = $css("door_btn")
    var btnState = $css("btn_st")
    var whoIsInTheFront = 0
    var placeChanger = function (i) {
        if (i < 0) {
            i = an_boxs.length - 1
        }
        //設定所有門位置，透過 CSS
        for (let j = 0; j < an_boxs.length; j++) {
            let placeNum = j - i
            if (placeNum >= 0) {
                an_boxs[j].className = "an_box p" + placeNum
            } else {
                placeNum = j - i + an_boxs.length
                an_boxs[j].className = "an_box p" + placeNum
            }
        }

        //取消前一個門的按鈕Active狀態
        btnState[whoIsInTheFront].classList.remove("active")


        //紀錄當前誰在 p0
        whoIsInTheFront = i
        // console.log(whoIsInTheFront)
        if (whoIsInTheFront > an_boxs.length - 1) {
            whoIsInTheFront = 0
        } else if (whoIsInTheFront < 0) {
            whoIsInTheFront = an_boxs.length
        }
        // console.log(whoIsInTheFront)

        //傳入前一個門的按鈕Active狀態
        btnState[whoIsInTheFront].classList.add("active")
    }



    // ------------------------
    //
    // loading
    //
    // ------------------------



    // Create the door's nake 
    var naka = []
    var doors = $css("door")
    for (let j = 0; j < doors.length; j++) {
        for (let i = 0; i < 7; i++) {
            naka[i] = document.createElement('div');
            naka[i].setAttribute('class', 'face naka_' + i);
            doors[j].appendChild(naka[i]);
        }
    }




    // 設定各門的點擊切換 place 功能
    for (let i = 0; i < an_boxs.length; i++) {
        an_boxs[i].addEventListener("click", function () { placeChanger(i) })
    }



    // 設定下方按鈕的點擊切換 View 功能

    for (let i = 0; i < doorBtn.length; i++) {
        doorBtn[i].addEventListener("click", function () { placeChanger(i) })
    }

    //Next Last 功能
    var doorArr = $css("door_arr")
    doorArr[1].addEventListener("click", function () { placeChanger(whoIsInTheFront + 1) })
    doorArr[0].addEventListener("click", function () { placeChanger(whoIsInTheFront - 1) })







    // ******************************
    // 
    //      輪播
    //
    // ******************************
    var cou = 0
    var repeater = null;
    function repeaterStart() {
        clearInterval(repeater);
        repeater = setInterval(function () {
            placeChanger(whoIsInTheFront + 1)
        }, 6000);
        cou++
        // console.log("on", cou)
    }

    function repeaterStop() {
        clearInterval(repeater);
        // console.log("off")
    }

    var doorContainer = $css("doormain_container")[0]

    repeaterStart()

    doorContainer.addEventListener("mouseover", repeaterStop)
    doorContainer.addEventListener("mouseout", repeaterStart)





    /******************************
    ******************************
    ******************************
    
    

    
            Door END
    
    

    
    ******************************
    ******************************
    *******************************/







    // var door = $css("door")
    // console.log(door)
    // window.addEventListener("mousemove", function (e) {
    //     let roX = e.x / 1.2
    //     let roY = e.y / 1.2
    //     door[0].style = "transform: translate(-50%, -50%) rotateY(" + roX + "deg) rotateX(" + roY + "deg);"
    //     console.log(e.x, e.y)
    // })





</script>

</html>