<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="door_style.css">
    <title>Door</title>

</head>

<body>

    <div class="door_container view0">
        <div class="an_box d01  gotofront" style="animation-delay: 0s; animation-duration: 14s;">
            <div class="door">
                <a class="door_link" href="#"></a>
                <div class="face opener">1</div>
                <div class="face front"></div>
            </div>
        </div>
        <div class="an_box d02" style="animation-delay: 0.3s; animation-duration: 12s;">
            <div class="door">
                <a class="door_link" href="#"></a>
                <div class="face opener">2</div>
                <div class="face front"></div>
            </div>
        </div>
        <div class="an_box d03" style="animation-delay: 0.5s; animation-duration: 16s;">
            <div class="door">
                <div class="face opener">3</div>
                <div class="face front"></div>
            </div>
        </div>
        <div class="an_box d04" style="animation-delay: 0.7s; animation-duration: 20s;">
            <div class="door">
                <div class="face opener">4</div>
                <div class="face front"></div>
            </div>
        </div>
        <div class="an_box d05" style="animation-delay: 0.4s; animation-duration: 32s;">
            <div class="door">
                <div class="face opener">5</div>
                <div class="face front"></div>
            </div>
        </div>
    </div>

    </div>





</body>
<script>

    // Function
    var $ = function (name) {
        return document.getElementById(name)
    }
    var $css = function (name) {
        return document.getElementsByClassName(name)
    }
    var $tag = function (name) {
        return document.getElementsByTagName(name)
    }



    var an_boxs = $css("an_box")
    var doorContainer = $css("door_container")[0]
    var doorLink = $css("door_link")
    var ViewChanger = function (i) {
        //設定所有門位置，透過 CSS
        for (let j = 0; j < an_boxs.length; j++) {
            doorContainer.classList.remove("view" + j)
        }
        doorContainer.classList.add("view" + i)

        //定義最上層物件
        for (let p = 0; p < an_boxs.length; p++) {
            an_boxs[p].classList.remove("gotofront")
        }
        an_boxs[i].classList.add("gotofront")


        //取消最上層物件連結
        for (let q = 0; q < doorLink.length; q++) {
            doorLink[q].classList.add("hidden")
        }
        doorLink[i].classList.remove("hidden")
    }









    // ------------------------
    //
    // loading
    //
    // ------------------------



    // Create the door's nake 
    var naka = []
    var doors = $css("door")
    for (let j = 0; j < doors.length; j++) {
        for (let i = 0; i < 7; i++) {
            naka[i] = document.createElement('div');
            naka[i].setAttribute('class', 'face naka_' + i);
            doors[j].appendChild(naka[i]);
        }
    }



    // 設定各門的Over開門 View 功能


    // for (let i = 0; i < doorLink.length; i++) {
    //     doorLink[i].addEventListener("mouseover", function () {

    //     })
    //     doorLink[i].addEventListener("mouseout", function () {

    //     })
    // }





    // 設定各門的點擊切換 View 功能
    for (let i = 0; i < an_boxs.length; i++) {
        an_boxs[i].addEventListener("click", function () { ViewChanger(i) })
    }



    // 設定下方按鈕的點擊切換 View 功能




    //隱藏連結

    for (let i = 1; i < doorLink.length; i++) {
        doorLink[i].classList.add("hidden")
        console.log(i)
    }







    // var door = $css("door")
    // console.log(door)
    // window.addEventListener("mousemove", function (e) {
    //     let roX = e.x / 1.2
    //     let roY = e.y / 1.2
    //     door[0].style = "transform: translate(-50%, -50%) rotateY(" + roX + "deg) rotateX(" + roY + "deg);"
    //     console.log(e.x, e.y)
    // })





</script>

</html>